/* style.css */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700&display=swap');

:root{
  --primary-color:#0068b7;
  --secondary-color:#00a0e9;
  --accent-bg:#f0f8ff; /* 少し薄い青 */
  --text:#333;
  --bg:#fff;
  --anim:0.6s;
}

*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:'Noto Sans JP',sans-serif;
  background:#f0f0f0; /* 全体の背景を少しグレーに */
  color:var(--text);
  line-height:1.6;
  -webkit-font-smoothing:antialiased;
  overflow-x: hidden; /* 横スクロールバーを隠す */
}

/* 共通ブロック */
.block{
  padding:6vh 6vw; /* 上下のパディングを少し減らす */
  max-width:1080px;
  margin: 1rem auto; /* ブロック間のマージン */
  opacity:0;
  transform:translateY(40px);
  transition:opacity var(--anim) ease-out,transform var(--anim) ease-out;
  background: var(--bg); /* デフォルト背景を白に */
  border-radius: 8px; /* 角を少し丸める */
  box-shadow: 0 4px 12px rgba(0,0,0,0.05); /* 影を少しつける */
}

.block.visible{
  opacity:1;
  transform:none;
}

/* セクション交互背景 (偶数番目をアクセントカラーに) */
section.block:nth-of-type(even){
    background:var(--accent-bg);
}
/* 最初のブロックは白のまま */
section.block:first-of-type {
    background: var(--bg);
    box-shadow: none; /* 最初のタイトルブロックは影なし */
    margin-top: 0;
}


/* Typography */
h1{font-size:clamp(1.7rem,6.5vw,2.8rem);color:var(--primary-color);font-weight:700;margin-bottom:.4em; text-align: center;}
h2{font-size:clamp(1.4rem,5.8vw,2.1rem);color:var(--primary-color);font-weight:700;margin: 1.5em 0 .8em; padding-bottom: 0.3em;
    border-bottom:3px solid var(--secondary-color);display:flex;align-items:center; gap: 0.5em;}
h3{font-size:clamp(1.15rem,5vw,1.5rem);font-weight:700;margin-top: 1.8em; margin-bottom: 0.6em; color: var(--primary-color); opacity: 0.9;}
h4 {font-size:clamp(1.0rem, 4.5vw, 1.25rem); font-weight: 700; margin-top: 1.5em; margin-bottom: 0.5em; color: #555;}

p,li{font-size:clamp(0.92rem,4vw,1rem);margin-bottom:.8em}
ul, ol { padding-left: 1.5em; margin-bottom: 1em; }
ul ul, ol ol, ul ol, ol ul { margin-top: 0.5em; margin-bottom: 0.5em;}
li { margin-bottom: 0.5em; }
strong { color: var(--primary-color); font-weight: 700; }
u { text-decoration-thickness: 2px; text-decoration-color: var(--secondary-color); }
a { color: var(--secondary-color); text-decoration: none; }
a:hover { text-decoration: underline; }
sup { font-size: 0.7em; vertical-align: super; margin-left: 2px; color: #777;}


/* 目次ドロワー */
.toc-drawer{
  position:fixed;top:0;left:-85%;width:80%;max-width: 320px; height:100%;background:#fff;
  box-shadow:2px 0 12px rgba(0,0,0,.15);
  /* ▼▼▼ 修正 ▼▼▼ */
  padding: 40px 1.5em 2em; /* 上部スペースを確保 */
  /* ▲▲▲ 修正 ▲▲▲ */
  transition: left 0.4s ease-in-out; z-index: 1100;
  overflow-y: auto;
}
.toc-drawer.open{left:0}
.toc-drawer .close{
    background:none;border:none;font-size:1.8rem;position:absolute;top:10px;right:10px; color: var(--primary-color); cursor: pointer; padding: 5px; line-height: 1;
}
.toc-drawer ul{
  list-style:none;
  /* ▼▼▼ 修正 ▼▼▼ */
  margin-top: 0.5em; /* リストの上マージンを調整 */
  /* ▲▲▲ 修正 ▲▲▲ */
  padding-left: 0;
}
.toc-drawer li{
  /* ▼▼▼ 修正 ▼▼▼ */
  margin-bottom: 0.8em; /* アイテム間のマージンを少し調整 */
  /* ▲▲▲ 修正 ▲▲▲ */
  font-size: 0.95rem;
}
.toc-drawer li a {
  color: var(--text); /* テキスト色 */
  display: block;
  /* ▼▼▼ 修正 ▼▼▼ */
  padding: 0.4em 0.2em; /* パディング調整 */
  border-radius: 4px; /* ホバー時の見た目調整 */
  transition: background-color 0.2s, color 0.2s; /* トランジション追加 */
  /* ▲▲▲ 修正 ▲▲▲ */
}
.toc-drawer li a:hover {
  color: var(--primary-color);
  background-color: var(--accent-bg); /* ホバー背景をアクセントカラーに */
}

.toc-toggle{
  position:fixed;top:1rem;left:1rem;background:var(--primary-color);color:#fff;
  border:none;width:2.8rem;height:2.8rem;border-radius:50%;display:flex;
  align-items:center;justify-content:center;font-size:1.3rem;z-index:1000; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* ToTop ボタン */
.to-top{
  position:fixed;bottom:1.5rem;right:1.3rem;background:var(--primary-color);color:#fff;
  border:none;width:2.8rem;height:2.8rem;border-radius:50%;display:flex;align-items:center;
  justify-content:center;font-size:1.3rem;opacity:0;transition: opacity 0.3s, visibility 0.3s;cursor:pointer; z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  visibility: hidden; /* 初期状態は非表示 */
}
.to-top.visible {
    opacity: 0.8;
    visibility: visible;
}
.to-top:hover {
    opacity: 1;
}


/* テーブル スタイル */
.table-container {
  overflow-x: auto; /* スマホで横スクロール可能に */
  margin: 1.5em 0;
  opacity: 0; /* 初期状態は非表示 */
  transform: translateY(20px);
  transition: opacity 0.5s ease-out, transform 0.5s ease-out;
  transition-delay: 0.1s; /* ブロック表示後に少し遅れて表示 */
}
.block.visible .table-container {
    opacity: 1;
    transform: translateY(0);
}


.comparison-table, .cost-table {
  width: 100%;
  min-width: 900px; /* 横スクロールが発生する最小幅 */
  border-collapse: collapse;
  font-size: clamp(0.8rem, 2.5vw, 0.9rem); /* テーブル内文字サイズ調整 */
  background-color: #fff;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  border: 1px solid #ddd;
}

.comparison-table th, .comparison-table td,
.cost-table th, .cost-table td {
  border: 1px solid #ddd;
  padding: 0.6em 0.8em;
  text-align: left;
  vertical-align: middle;
}

.comparison-table th, .cost-table th {
  background-color: var(--accent-bg);
  font-weight: bold;
  white-space: nowrap; /* ヘッダーの折り返しを防ぐ */
  position: sticky; /* スクロール時にヘッダー固定 */
  left: 0;
  z-index: 1;
}
/* 最初の列を固定 */
.comparison-table td:first-child, .cost-table td:first-child {
  position: sticky;
  left: 0;
  background-color: #fff; /* 背景色をセルに合わせる */
  z-index: 1;
   font-weight: bold;
}
.comparison-table thead th:first-child, .cost-table thead th:first-child {
    z-index: 2; /* 左上角を最前面に */
    background-color: var(--accent-bg);
}


.comparison-table tbody tr:nth-child(odd),
.cost-table tbody tr:nth-child(odd) {
  background-color: #f9f9f9;
}
.comparison-table tbody tr:nth-child(odd) td:first-child,
.cost-table tbody tr:nth-child(odd) td:first-child {
    background-color: #f9f9f9; /* 固定列の背景も合わせる */
}


/* テーブル内の★評価 */
.star-rating {
    color: #f8d347; /* 星の色 */
    white-space: nowrap;
    font-size: 1.1em;
}

/* 注記用スタイル */
.note {
    font-size: 0.85em;
    color: #555;
    margin-top: 1em;
    line-height: 1.5;
}
.note ul { padding-left: 1em;}


/* インビューアニメーション (keyframesは既存のため省略) */